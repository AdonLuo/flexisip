Flexisip is general purpose SIP proxy with media capabilities.
It is released under the AGPL v3. Please understand the terms of AGPL in COPYING before deploying it.

Flexisip depends on the following externals:
- oRTP
- sofia-sip library, 'bc' branch maintained by belledonne communications
- mediastreamer2 (optionaly use --disable-trancoder if not present)
- xsd (>= 4, for old OS on which this version isn't packaged, rpm and deb available here: http://www.codesynthesis.com/products/xsd/download.xhtml)

The correct sofia-sip version can be found using:
$ git clone -b bc git://git.linphone.org/sofia-sip.git
This version contains various fixes done on top of the official sofia-sip repository.

- autotools, libtool

Optionally it also depends on:
- net-snmp
- odbc
- hiredis
- protobuf
- boost::Log


To configure Flexisip, copy and modify file flexisip.conf.sample to flexisip.conf in directory <prefix>/etc/flexisip


ODBC
--------------------
Enable pooling in odbc.ini and use a thread safe driver.
Use ODBCINI and ODBCSYSINI environement variable to override ini files location.
The connection string defined in authentication section of flexisip.conf may use
either a DSN or a DSN-less connection string.

Example odbc.ini file:
[myodbc3]
Driver       = /usr/lib/x86_64-linux-gnu/odbc/libmyodbc.so
Description  = MySQL ODBC 3.51 Driver DSN
Server       = localhost
Port         =
User         = user
Password     = password
Database     = flexisip
Option       = 4
Socket       =



Developer notes:
---------------------

With sofia-sip, you have the choice between msg_dup and msg_copy,
sip_from_dup and sip_from_copy etc...
The difference isn't well documented in sofia-sip documentation.
However it is important to understand that
*_copy() just makes a copy of the structure, not the strings pointed by it
*_dup() makes a copy of structure plus all included strings inside.

*_copy() versions can be thus dangerous. Use *_dup() in doubt.

